# Текущее состояние ML системы Aibolit

## Активные компоненты

### 1. Датасеты
- **dog_disease_dataset.py** - Генератор синтетических данных для собак
  - 38 заболеваний с весами частоты
  - 131+ симптомов включая лабораторные анализы
  - Метод create_weighted_dataset() для создания 30,000 образцов

- **cat_disease_dataset.py** - Генератор синтетических данных для кошек  
  - 38 заболеваний с весами частоты
  - 133+ симптомов включая лабораторные анализы
  - Метод create_weighted_dataset() для создания 30,000 образцов

### 2. Модели
- **weighted_animal_disease_model.pkl** - Единственная активная модель
  - Используется в app.py для диагностики
  - Поддерживает симптомы и лабораторные анализы
  - Random Forest с весами классов

### 3. Интеграция с приложением
- Загружается в app.py через функцию load_ml_model()
- API endpoint /diagnose для получения диагнозов
- Поддержка симптомов и лабораторных анализов
- Возвращает топ-5 наиболее вероятных заболеваний

## Проблемы и планы

### Текущие проблемы
1. Модели для собак и кошек не обучены (файлы train_dog_model.py и train_cat_model.py были удалены)
2. Используется только общая модель weighted_animal_disease_model.pkl
3. Нет разделения по типам животных в диагностике

### Планы развития
1. Создать отдельные модели для собак и кошек
2. Улучшить точность диагностики
3. Добавить больше заболеваний и симптомов
4. Реализовать весовую систему для частоты заболеваний

## Использование

### Для обучения новых моделей
1. Использовать dog_disease_dataset.py и cat_disease_dataset.py
2. Создать скрипты обучения (аналогично удаленным train_*.py)
3. Сохранить модели в ml/models/

### Для диагностики
- Используется автоматически через веб-интерфейс
- API: POST /diagnose с параметрами animal_type, symptoms, lab_analyses
- Возвращает JSON с предсказаниями



